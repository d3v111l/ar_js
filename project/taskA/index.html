<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>Бутен: цис / транс (VR)</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="js/molecule-loader.js"></script>
    <style>
      /* Кнопка поверх сцени */
      #toggle-btn {
        position: fixed;
        top: 10px;
        left: 10px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #007BFF;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        z-index: 9999;
      }
      #toggle-btn:hover {
        background-color: #0056b3;
      }
    </style>
    <script>
      let current = 0;
      const molecules = ["molecules/butene_cis.json", "molecules/butene_trans.json"];

      // Функція для завантаження та відображення молекули
      function toggleMolecule() {
        const scene = document.querySelector("a-scene");
        const old = document.getElementById("molecule");
        if (old) scene.removeChild(old);

        const container = document.createElement("a-entity");
        container.setAttribute("id", "molecule");
        scene.appendChild(container);

        loadMolecule(molecules[current], container);
        current = (current + 1) % molecules.length;
      }

      // При завантаженні сторінки завантажуємо першу молекулу
      window.addEventListener("load", () => toggleMolecule());
    </script>
  </head>
  <body>
    <!-- Кнопка для перемикання ізомерів -->
    <button id="toggle-btn" onclick="toggleMolecule()">Змінити ізомер</button>

    <a-scene>
      <!-- Камера з можливістю руху -->
      <a-entity id="cameraRig" position="0 1.6 4">
        <a-camera wasd-controls-enabled="true"></a-camera>
      </a-entity>

      <!-- Освітлення -->
      <a-light type="ambient" color="#888"></a-light>
      <a-light type="directional" position="0 1 1" intensity="0.8"></a-light>

      <!-- Фон -->
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>
  </body>
</html>
